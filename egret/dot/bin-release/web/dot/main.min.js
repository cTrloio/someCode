var AssetAdapter=function(){function t(){}var e=(__define,t),i=e.prototype;return i.getAsset=function(t,e,i){function s(s){e.call(i,s,t)}if(RES.hasRes(t)){var h=RES.getRes(t);h?s(h):RES.getResAsync(t,s,this)}else RES.getResByUrl(t,s,this,RES.ResourceItem.TYPE_IMAGE)},t}();egret.registerClass(AssetAdapter,"AssetAdapter",["eui.IAssetAdapter"]);var Background=function(t){function e(e){t.call(this),this.bg=Factory.createBitmapByName(e),this.addChild(this.bg)}__extends(e,t);var i=(__define,e);i.prototype;return e}(egret.Sprite);egret.registerClass(Background,"Background");var Box=function(t){function e(e){t.call(this),this.name="",this.vy=0,1==e&&(this.box=Factory.createBitmapByName("t1")),2==e&&(this.box=Factory.createBitmapByName("t2")),3==e&&(this.box=Factory.createBitmapByName("t3")),4==e&&(this.box=Factory.createBitmapByName("t4")),this.box.anchorOffsetX=this.box.width/2,this.box.anchorOffsetY=this.box.height/2,this.addChild(this.box)}__extends(e,t);var i=(__define,e);i.prototype;return e}(egret.Sprite);egret.registerClass(Box,"Box");var Character=function(t){function e(e){t.call(this),this.life=2,this.eArrIdle=[],this.num=0,this.num2=0,"black"==e&&(this.enemy0=Factory.createBitmapByName("chara1"),this.addChild(this.enemy0),this.enemy1=Factory.createBitmapByName("chara2"),this.addChild(this.enemy1),this.enemy2=Factory.createBitmapByName("chara3"),this.addChild(this.enemy2),this.enemy3=Factory.createBitmapByName("chara4"),this.addChild(this.enemy3),this.enemy4=Factory.createBitmapByName("chara5"),this.addChild(this.enemy4),this.eArrIdle.push(this.enemy0),this.eArrIdle.push(this.enemy1),this.eArrIdle.push(this.enemy2),this.eArrIdle.push(this.enemy3),this.eArrIdle.push(this.enemy4),this.enemy0.visible=!0,this.enemy1.visible=!1,this.enemy2.visible=!1,this.enemy3.visible=!1,this.enemy4.visible=!1,this.enemy0.anchorOffsetX=this.enemy0.width/2,this.enemy1.anchorOffsetX=this.enemy1.width/2,this.enemy2.anchorOffsetX=this.enemy2.width/2,this.enemy3.anchorOffsetX=this.enemy2.width/2,this.enemy4.anchorOffsetX=this.enemy2.width/2,this.enemy0.anchorOffsetY=this.enemy0.height/2,this.enemy1.anchorOffsetY=this.enemy1.height/2,this.enemy2.anchorOffsetY=this.enemy2.height/2,this.enemy3.anchorOffsetY=this.enemy2.height/2,this.enemy4.anchorOffsetY=this.enemy2.height/2,this.timer=new egret.Timer(100),this.timer.addEventListener(egret.TimerEvent.TIMER,this.changeHd,this),this.timer.start()),"blue"==e&&(this.enemy0=Factory.createBitmapByName("chara01"),this.addChild(this.enemy0),this.enemy1=Factory.createBitmapByName("chara02"),this.addChild(this.enemy1),this.enemy2=Factory.createBitmapByName("chara03"),this.addChild(this.enemy2),this.enemy3=Factory.createBitmapByName("chara04"),this.addChild(this.enemy3),this.enemy4=Factory.createBitmapByName("chara05"),this.addChild(this.enemy4),this.eArrIdle.push(this.enemy0),this.eArrIdle.push(this.enemy1),this.eArrIdle.push(this.enemy2),this.eArrIdle.push(this.enemy3),this.eArrIdle.push(this.enemy4),this.enemy0.visible=!0,this.enemy1.visible=!1,this.enemy2.visible=!1,this.enemy3.visible=!1,this.enemy4.visible=!1,this.enemy0.anchorOffsetX=this.enemy0.width/2,this.enemy1.anchorOffsetX=this.enemy1.width/2,this.enemy2.anchorOffsetX=this.enemy2.width/2,this.enemy3.anchorOffsetX=this.enemy2.width/2,this.enemy4.anchorOffsetX=this.enemy2.width/2,this.enemy0.anchorOffsetY=this.enemy0.height/2,this.enemy1.anchorOffsetY=this.enemy1.height/2,this.enemy2.anchorOffsetY=this.enemy2.height/2,this.enemy3.anchorOffsetY=this.enemy2.height/2,this.enemy4.anchorOffsetY=this.enemy2.height/2,this.timer2=new egret.Timer(100),this.timer2.addEventListener(egret.TimerEvent.TIMER,this.changeHd2,this),this.timer2.start())}__extends(e,t);var i=(__define,e),s=i.prototype;return s.changeHd=function(){this.num++,this.num>4&&(this.num=0);for(var t=0;t<this.eArrIdle.length;t++)this.eArrIdle[t].visible=!1;this.eArrIdle[this.num].visible=!0},s.changeHd2=function(){this.num2++,this.num2>4&&(this.num2=0);for(var t=0;t<this.eArrIdle.length;t++)this.eArrIdle[t].visible=!1;this.eArrIdle[this.num2].visible=!0},e}(egret.Sprite);egret.registerClass(Character,"Character");var CtrlButton=function(t){function e(e){t.call(this),this.btn1=Factory.createBitmapByName(e),this.addChild(this.btn1),this.btn1.anchorOffsetX=this.btn1.width/2,this.btn1.anchorOffsetY=this.btn1.height/2}__extends(e,t);var i=(__define,e);i.prototype;return e}(egret.Sprite);egret.registerClass(CtrlButton,"CtrlButton");var Factory=function(){function t(){}var e=(__define,t);e.prototype;return t.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},t}();egret.registerClass(Factory,"Factory");var GameData=function(){function t(){}var e=(__define,t);e.prototype;return t.name1="Ares",t.name2="Hades",t.name3="Zeus",t.score1=350,t.score2=250,t.score3=150,t}();egret.registerClass(GameData,"GameData");var LoadingUI=function(t){function e(){t.call(this),this.createView()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},s.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(t){function e(){t.apply(this,arguments),this.isThemeLoadEnd=!1,this.isResourceLoadEnd=!1,this.sceneOne=null,this.sceneStart=null,this.sceneShop=null,this.sceneRank=null}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createChildren=function(){t.prototype.createChildren.call(this);var e=new AssetAdapter;this.stage.registerImplementation("eui.IAssetAdapter",e),this.stage.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},s.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var e=new eui.Theme("resource/default.thm.json",this.stage);e.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},s.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},s.onResourceLoadComplete=function(t){"preload"==t.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.createScene())},s.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.startCreateScene()},s.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},s.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},s.onResourceProgress=function(t){"preload"==t.groupName},s.startCreateScene=function(){null!=this.sceneOne&&(this.sceneOne.removeEventListener("TryAgian",this.goSceneOneHd,this),this.sceneOne.removeEventListener("goMain",this.startCreateScene,this),this.removeChild(this.sceneOne),this.sceneOne=null),null!=this.sceneShop&&(this.sceneShop.removeEventListener("goSceneOne",this.goSceneOneHd,this),this.removeChild(this.sceneShop),this.sceneShop=null),null!=this.sceneRank&&(this.sceneRank.removeEventListener("goMain",this.startCreateScene,this),this.removeChild(this.sceneRank),this.sceneRank=null),this.sceneStart=new StartScene,this.addChild(this.sceneStart),this.sceneStart.addEventListener("goSceneOne",this.goSceneOneHd,this),this.sceneStart.addEventListener("goSceneShop",this.goShopSceneHd,this),this.sceneStart.addEventListener("goSceneRank",this.goSceneRankHd,this)},s.goSceneOneHd=function(t){null!=this.sceneStart&&(this.sceneStart.removeEventListener("goSceneOne",this.goSceneOneHd,this),this.sceneStart.removeEventListener("goSceneShop",this.goShopSceneHd,this),this.sceneStart.removeEventListener("goSceneRank",this.goSceneRankHd,this),this.removeChild(this.sceneStart),this.sceneStart=null),null!=this.sceneOne&&(this.sceneOne.removeEventListener("TryAgian",this.goSceneOneHd,this),this.sceneOne.removeEventListener("goMain",this.startCreateScene,this),this.removeChild(this.sceneOne),this.sceneOne=null),this.sceneOne=new SceneOne,this.addChild(this.sceneOne),this.sceneOne.addEventListener("TryAgian",this.goSceneOneHd,this),this.sceneOne.addEventListener("goMain",this.startCreateScene,this)},s.goShopSceneHd=function(t){null!=this.sceneStart&&(this.sceneStart.removeEventListener("goSceneOne",this.goSceneOneHd,this),this.sceneStart.removeEventListener("goSceneShop",this.goShopSceneHd,this),this.removeChild(this.sceneStart),this.sceneStart=null),this.sceneShop=new ShopScene,this.addChild(this.sceneShop),this.sceneShop.addEventListener("goSceneOne",this.goSceneOneHd,this)},s.goSceneRankHd=function(t){null!=this.sceneStart&&(this.sceneStart.removeEventListener("goSceneOne",this.goSceneOneHd,this),this.sceneStart.removeEventListener("goSceneShop",this.goShopSceneHd,this),this.sceneStart.removeEventListener("goSceneRank",this.goSceneRankHd,this),this.removeChild(this.sceneStart),this.sceneStart=null),this.sceneRank=new RankScene,this.addChild(this.sceneRank),this.sceneRank.addEventListener("goMain",this.startCreateScene,this)},e}(eui.UILayer);egret.registerClass(Main,"Main");var RankScene=function(t){function e(){t.call(this),this.rankBg=Factory.createBitmapByName("rankBg"),this.addChild(this.rankBg),this.backBtn=Factory.createBitmapByName("xx"),this.addChild(this.backBtn),this.backBtn.x=180,this.backBtn.y=670,this.backBtn.touchEnabled=!0,this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.backHd,this),""==SceneOne.playName&&(SceneOne.playName="无名"),SceneOne.playName.length>=6&&(SceneOne.playName=SceneOne.playName.substring(0,6)),SceneOne.score>=GameData.score1?(GameData.score3=GameData.score2,GameData.name3=GameData.name2,GameData.score2=GameData.score1,GameData.name2=GameData.name1,GameData.score1=SceneOne.score,GameData.name1=SceneOne.playName):SceneOne.score>=GameData.score2?(GameData.score3=GameData.score2,GameData.name3=GameData.name2,GameData.score2=SceneOne.score,GameData.name2=SceneOne.playName):SceneOne.score>=GameData.score3&&(GameData.score3=SceneOne.score,GameData.name3=SceneOne.playName),this.tname1=new egret.TextField,this.addChild(this.tname1),this.tname1.text=GameData.name1+"\n"+GameData.score1,this.tname1.size=60,this.tname1.textColor=0,this.tname1.x=180,this.tname1.y=120,this.tname2=new egret.TextField,this.addChild(this.tname2),this.tname2.text=GameData.name2+"\n"+GameData.score2,this.tname2.size=60,this.tname2.textColor=0,this.tname2.x=180,this.tname2.y=310,this.tname3=new egret.TextField,this.addChild(this.tname3),this.tname3.text=GameData.name3+"\n"+GameData.score3,this.tname3.size=60,this.tname3.textColor=0,this.tname3.x=180,this.tname3.y=505}__extends(e,t);var i=(__define,e),s=i.prototype;return s.backHd=function(){this.dispatchEvent(new egret.Event("goMain")),this.backBtn.touchEnabled=!1,this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.backHd,this)},e}(egret.Sprite);egret.registerClass(RankScene,"RankScene");var SceneOne=function(t){function e(){t.call(this),this.boxArr=[],this.canCreate=!0,this.widthNum=0,this.clickNum=0,this.canTouch=!0,this.speed=700,this.scoreNum=0,this.clickCount=0,this.moneyI=null,this.hitObj=!1,this.hitMoneyIcoNum=0,this.ctrlBoxType=0,this.musicBtnNum=0,this.canClosePanel=!1,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addStageHd,this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.addStageHd=function(){this.addObject(),this.playPanel=new eui.Panel,this.playPanel.width=420,this.playPanel.height=200,this.playPanel.horizontalCenter=0,this.playPanel.verticalCenter=0,this.playPanel.x=23,this.playPanel.y=290,this.addChild(this.playPanel),this.playPanel.closeButton.touchEnabled=!1,this.playPanel.closeButton.visible=!1,this.playerLabel=new eui.Label,this.playerLabel.text="Your Name",this.playerLabel.x=150,this.playerLabel.y=30,this.playerLabel.size=20,this.playerLabel.textColor=0,this.playPanel.addChild(this.playerLabel),this.playerTxt=new egret.TextField,this.playerTxt.type=egret.TextFieldType.INPUT,this.playerTxt.border=!0,this.playerTxt.maxChars=5,this.playerTxt.size=40,this.playerTxt.borderColor=0,this.playerTxt.textColor=0,this.playerTxt.width=140,this.playerTxt.height=40,this.playPanel.addChild(this.playerTxt),this.playerTxt.x=135,this.playerTxt.y=75,this.playNameBtn=new eui.Button,this.playNameBtn.label="Play",this.playNameBtn.x=160,this.playNameBtn.y=130,this.playPanel.addChild(this.playNameBtn),this.playNameBtn.touchEnabled=!0,this.playNameBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.nameHd,this)},s.nameHd=function(){e.playName=this.playerTxt.text,this.playNameBtn.touchEnabled=!1,this.playNameBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.nameHd,this),this.playPanel.removeChild(this.playerLabel),this.playPanel.removeChild(this.playerTxt),this.playPanel.removeChild(this.playNameBtn),this.removeChild(this.playPanel),this.addEvent()},s.addObject=function(){this.charaType=ShopScene.charaType,this.sound=RES.getRes("through"),this.sound2=RES.getRes("find"),this.bg=new Background("bg"),this.addChild(this.bg),this.chara=new Character(this.charaType),this.addChild(this.chara),this.chara.x=48,this.chara.y=720-this.chara.height/2,this.progressBar=new eui.ProgressBar,this.addChild(this.progressBar),this.progressBar.maximum=60,this.progressBar.minimum=0,this.progressBar.x=140,this.progressBar.y=20,this.progressBar.width=200,this.progressBar.height=30,this.progressBar.direction=eui.Direction.LTR,this.progressBar.value=60,this.btnOne=new CtrlButton("up"),this.btnTwo=new CtrlButton("up"),this.btnThree=new CtrlButton("up"),this.btnFour=new CtrlButton("up"),this.btnFive=new CtrlButton("up"),this.btnOne.alpha=0,this.btnTwo.alpha=0,this.btnThree.alpha=0,this.btnFour.alpha=0,this.btnFive.alpha=0,this.btnOne.x=48,this.btnTwo.x=144,this.btnThree.x=240,this.btnFour.x=336,this.btnFive.x=432,this.btnOne.y=400,this.btnTwo.y=400,this.btnThree.y=400,this.btnFour.y=400,this.btnFive.y=400,this.addChild(this.btnOne),this.addChild(this.btnTwo),this.addChild(this.btnThree),this.addChild(this.btnFour),this.addChild(this.btnFive),this.textScore=new egret.TextField,this.addChild(this.textScore),this.textScore.text="0",this.textScore.textAlign=egret.HorizontalAlign.CENTER,this.textScore.size=22,this.textScore.width=480,this.textScore.height=30,this.textScore.y=72,this.textScore.textColor=0,this.textMoney=new egret.TextField,this.addChild(this.textMoney),this.textMoney.text="0",this.textMoney.textAlign=egret.HorizontalAlign.CENTER,this.textMoney.size=22,this.textMoney.x=40,this.textMoney.y=22,this.textMoney.textColor=0,this.musicOn=new eui.Button,this.setBtn=new eui.Button,this.addChild(this.musicOn),this.addChild(this.setBtn),this.musicOn.skinName="resource/eui_skins/ButtonSkin_musicBtn.exml",this.setBtn.skinName="resource/eui_skins/ButtonSkin_setBtn.exml",this.musicOn.x=375,this.musicOn.y=8,this.setBtn.x=425,this.setBtn.y=8,this.sound1=RES.getRes("bgm"),this.soundChannel=this.sound1.play(),this.soundChannel.volume=1,this.moneyI=new CtrlButton("moneyIco"),this.addChild(this.moneyI),this.moneyI.x=-200,this.moneyI.visible=!1},s.addEvent=function(){this.btnOne.touchEnabled=!0,this.btnTwo.touchEnabled=!0,this.btnThree.touchEnabled=!0,this.btnFour.touchEnabled=!0,this.btnFive.touchEnabled=!0,this.btnOne.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onKeyDOWN1,this),this.btnOne.addEventListener(egret.TouchEvent.TOUCH_END,this.onKeyUP,this),this.btnTwo.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onKeyDOWN2,this),this.btnTwo.addEventListener(egret.TouchEvent.TOUCH_END,this.onKeyUP,this),this.btnThree.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onKeyDOWN3,this),this.btnThree.addEventListener(egret.TouchEvent.TOUCH_END,this.onKeyUP,this),this.btnFour.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onKeyDOWN4,this),this.btnFour.addEventListener(egret.TouchEvent.TOUCH_END,this.onKeyUP,this),this.btnFive.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onKeyDOWN5,this),this.btnFive.addEventListener(egret.TouchEvent.TOUCH_END,this.onKeyUP,this),this.timer=new egret.Timer(this.speed),this.timer.addEventListener(egret.TimerEvent.TIMER,this.timerHd,this),this.timer.start(),this.musicOn.touchEnabled=!0,this.setBtn.touchEnabled=!0,this.musicOn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.musicOnHd,this),this.setBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.setBtnHd,this),this.curnTimer=new egret.Timer(25e3),this.curnTimer.addEventListener(egret.TimerEvent.TIMER,this.changeTimerHd,this),this.curnTimer.start()},s.onKeyDOWN1=function(){this.canTouch&&(this.chara.x>this.btnOne.x?this.chara.x+=-96:this.chara.x=48,this.btnThings(this.btnOne)),this.canTouch=!1},s.onKeyDOWN2=function(){this.canTouch&&(this.chara.x>this.btnTwo.x?this.chara.x+=-96:this.chara.x=144,this.btnThings(this.btnTwo)),this.canTouch=!1},s.onKeyDOWN3=function(){this.canTouch&&(this.chara.x>this.btnThree.x?this.chara.x+=-96:this.chara.x<this.btnThree.x?this.chara.x+=96:this.chara.x=240,this.btnThings(this.btnThree)),this.canTouch=!1},s.onKeyDOWN4=function(){this.canTouch&&(this.chara.x<this.btnFour.x?this.chara.x+=96:this.chara.x=336,this.btnThings(this.btnFour)),this.canTouch=!1},s.onKeyDOWN5=function(){this.canTouch&&(this.chara.x<this.btnFive.x?this.chara.x+=96:this.chara.x=432,this.btnThings(this.btnFive)),this.canTouch=!1},s.btnThings=function(t){this.clickCount++,t.alpha=1;var e=egret.Tween.get(t,{loop:!1});e.to({alpha:0},500),this.doSomething()},s.doSomething=function(){for(var t=0;t<this.boxArr.length;t++)this.boxArr[t].y+=80;if(null!=this.moneyI&&(this.moneyI.y+=80),this.moneyI.y>800&&(this.moneyI.visible=!1),this.clickNum++,this.clickNum>=this.widthNum+1&&(this.canCreate=!0),this.canCreate){this.ctrlBoxType=Math.ceil(8*Math.random()),1==this.ctrlBoxType&&(this.widthNum=1),2==this.ctrlBoxType&&(this.widthNum=1),3==this.ctrlBoxType&&(this.widthNum=2),4==this.ctrlBoxType&&(this.widthNum=2),5==this.ctrlBoxType&&(this.widthNum=2),6==this.ctrlBoxType&&(this.widthNum=3),7==this.ctrlBoxType&&(this.widthNum=3),8==this.ctrlBoxType&&(this.widthNum=4);var e=new Box(this.widthNum);e.y=e.height/2,1==this.widthNum&&(e.x=96*Math.floor(5*Math.random())+e.width/2),2==this.widthNum&&(e.x=96*Math.floor(4*Math.random())+e.width/2),3==this.widthNum&&(e.x=96*Math.floor(3*Math.random())+e.width/2),4==this.widthNum&&(e.x=96*Math.floor(2*Math.random())+e.width/2),this.addChild(e),e.rotation=Math.random()>.5?0:180,this.boxArr.push(e),this.clickCount>=30&&(this.moneyI.visible=!0,this.moneyI.x=96*Math.floor(5*Math.random())+48,this.moneyI.y=e.y+120-e.height/2,this.clickCount=0),this.clickNum=0,this.canCreate=!1}this.enterFrameHd()},s.enterFrameHd=function(){for(var t=this.boxArr.length-1;t>=0;t--)this.boxArr[t].hitTestPoint(this.chara.x,this.chara.y)&&(this.removeChild(this.boxArr[t]),this.boxArr.splice(t,1),"blue"==this.charaType?(this.chara.life--,this.chara.life<0&&(this.hitObj=!0)):this.hitObj=!0),this.boxArr[t].y>=this.chara.y+80&&(this.removeChild(this.boxArr[t]),this.boxArr.splice(t,1),this.scoreNum+=2,this.progressBar.value++,this.textScore.text=""+this.scoreNum,this.soundChannelTwo=this.sound.play(0,1),this.soundChannelTwo.volume=.8);this.moneyI.hitTestPoint(this.chara.x,this.chara.y)&&(this.moneyI.visible=!1,this.moneyI.x=-200,this.hitMoneyIcoNum++,this.textMoney.text=this.hitMoneyIcoNum+"",this.soundChannelThree=this.sound2.play(0,1)),this.hitObj&&(e.score=this.scoreNum,e.playMoney=this.hitMoneyIcoNum,this.gameOverPanel(),this.setBtn.touchEnabled=!1,this.hitObj=!1)},s.timerHd=function(){this.progressBar.value-=1,this.progressBar.value<=0&&(e.score=this.scoreNum,e.playMoney=this.hitMoneyIcoNum,this.gameOverPanel())},s.gameOverPanel=function(){this.soundChannel.volume=0,this.panel=new eui.Panel,this.panel.width=480,this.panel.height=800,this.panel.skinName="resource/eui_skins/PanelSkin1.exml",this.panel.horizontalCenter=0,this.panel.verticalCenter=0,this.panel.x=0,this.panel.y=0,this.addChild(this.panel),this.panel.closeButton.verticalCenter=240,this.panel.closeButton.skinName="resource/eui_skins/ButtonSkin_close.exml",this.panel.closeButton.touchEnabled=!0,this.panel.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.dotCloseHd,this),this.canClosePanel||(this.panel.closeButton.visible=!1);var t=new egret.TextField;this.panel.addChild(t),t.x=180,t.y=240,t.size=35,t.textColor=0,t.text="得分："+this.scoreNum;var e=new egret.TextField;this.panel.addChild(e),e.x=180,e.y=410,e.size=35,e.textColor=0,e.text="金币："+this.hitMoneyIcoNum,this.replayBtn=new eui.Button,this.replayBtn.skinName="resource/eui_skins/ButtonSkin_replay.exml",this.replayBtn.horizontalCenter=-80,this.replayBtn.verticalCenter=110,this.panel.addChild(this.replayBtn),this.mainBtn=new eui.Button,this.mainBtn.skinName="resource/eui_skins/ButtonSkin_main.exml",this.mainBtn.horizontalCenter=80,this.mainBtn.verticalCenter=110,this.panel.addChild(this.mainBtn),this.replayBtn.touchEnabled=!0,this.mainBtn.touchEnabled=!0,this.replayBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClickAgian,this),this.mainBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClickOver,this),this.timer.stop(),this.btnOne.touchEnabled=!1,this.btnTwo.touchEnabled=!1,this.btnThree.touchEnabled=!1,this.btnFour.touchEnabled=!1,this.btnFive.touchEnabled=!1},s.musicOnHd=function(){this.musicBtnNum++,this.musicBtnNum%2==0?this.soundChannel.volume=1:this.soundChannel.volume=0},s.dotCloseHd=function(){this.soundChannel.volume=1,this.timer.start(),this.btnOne.touchEnabled=!0,this.btnTwo.touchEnabled=!0,this.btnThree.touchEnabled=!0,this.btnFour.touchEnabled=!0,this.btnFive.touchEnabled=!0,this.canClosePanel=!1},s.setBtnHd=function(){this.canClosePanel=!0,this.gameOverPanel()},s.Over=function(){this.soundChannel.stop(),this.musicOn.touchEnabled=!1,this.setBtn.touchEnabled=!1,this.musicOn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.musicOnHd,this),this.setBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.setBtnHd,this),this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.timerHd,this),this.curnTimer.stop(),this.curnTimer.removeEventListener(egret.TimerEvent.TIMER,this.changeTimerHd,this),this.btnOne.touchEnabled=!1,this.btnTwo.touchEnabled=!1,this.btnThree.touchEnabled=!1,this.btnFour.touchEnabled=!1,this.btnFive.touchEnabled=!1,this.btnOne.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onKeyDOWN1,this),this.btnOne.removeEventListener(egret.TouchEvent.TOUCH_END,this.onKeyUP,this),this.btnTwo.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onKeyDOWN2,this),this.btnTwo.removeEventListener(egret.TouchEvent.TOUCH_END,this.onKeyUP,this),this.btnThree.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onKeyDOWN3,this),this.btnThree.removeEventListener(egret.TouchEvent.TOUCH_END,this.onKeyUP,this),this.btnFour.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onKeyDOWN4,this),this.btnFour.removeEventListener(egret.TouchEvent.TOUCH_END,this.onKeyUP,this),this.btnFive.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onKeyDOWN5,this),this.btnFive.removeEventListener(egret.TouchEvent.TOUCH_END,this.onKeyUP,this),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStageHd,this)},s.onButtonClickAgian=function(t){this.removeChild(this.panel),this.Over(),t.target.touchEnabled=!1,this.replayBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClickAgian,this),this.mainBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClickOver,this),this.dispatchEvent(new egret.Event("TryAgian"))},s.onButtonClickOver=function(t){this.removeChild(this.panel),this.Over(),this.replayBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClickAgian,this),this.mainBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClickOver,this),t.target.touchEnabled=!1,this.dispatchEvent(new egret.Event("goMain"))},s.onKeyUP=function(){this.canTouch=!0},s.changeTimerHd=function(){this.speed<=300?(this.speed=300,this.curnTimer.stop(),this.curnTimer.removeEventListener(egret.TimerEvent.TIMER,this.changeTimerHd,this)):this.speed-=100,this.timer.stop(),this.timer.reset(),this.timer=new egret.Timer(this.speed),this.timer.addEventListener(egret.TimerEvent.TIMER,this.timerHd,this),this.timer.start()},e.score=0,e.playName="",e.playMoney=0,e}(egret.Sprite);egret.registerClass(SceneOne,"SceneOne");var SceneSetBtn=function(t){function e(e){t.call(this),this.te=Factory.createBitmapByName(e),this.addChild(this.te),this.te.anchorOffsetX=this.te.width/2,this.te.anchorOffsetY=this.te.height/2}__extends(e,t);var i=(__define,e);i.prototype;return e}(egret.Sprite);egret.registerClass(SceneSetBtn,"SceneSetBtn");var ShopScene=function(t){function e(){t.call(this),this.scoreNum=0,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.onAddToStage=function(){this.addObject(),this.addEvent()},s.addObject=function(){this.scoreNum=SceneOne.playMoney,this.sel=Factory.createBitmapByName("sel"),this.addChild(this.sel),this.buyBtn2=Factory.createBitmapByName("buy"),this.playBtn=Factory.createBitmapByName("play"),this.buysucc=Factory.createBitmapByName("buySucc"),this.buyfild=Factory.createBitmapByName("buyFild"),this.addChild(this.buysucc),this.addChild(this.buyfild),this.buysucc.anchorOffsetX=this.buysucc.width/2,this.buysucc.anchorOffsetY=this.buysucc.height/2,this.buyfild.anchorOffsetX=this.buyfild.width/2,this.buyfild.anchorOffsetY=this.buyfild.height/2,this.buysucc.x=45+this.buysucc.width/2,this.buysucc.y=350+this.buysucc.height/2,this.buyfild.x=45+this.buyfild.width/2,this.buyfild.y=350+this.buyfild.height/2,this.buysucc.visible=!1,this.buyfild.visible=!1,this.buyBtn2.anchorOffsetX=this.buyBtn2.width/2,this.buyBtn2.anchorOffsetY=this.buyBtn2.height/2,this.playBtn.anchorOffsetX=this.playBtn.width/2,this.playBtn.anchorOffsetY=this.playBtn.height/2,this.addChild(this.buyBtn2),this.addChild(this.playBtn),this.buyBtn2.x=360,this.buyBtn2.y=600,this.playBtn.x=240,this.playBtn.y=700,this.changesus=Factory.createBitmapByName("changesus"),this.addChild(this.changesus),this.changesus.visible=!1,this.changesus.x=45+this.changesus.width/2,this.changesus.y=350+this.changesus.height/2,this.changesus.anchorOffsetX=this.changesus.width/2,this.changesus.anchorOffsetY=this.changesus.height/2,this.seleBtn1=Factory.createBitmapByName("change"),this.seleBtn2=Factory.createBitmapByName("change"),this.addChild(this.seleBtn1),this.addChild(this.seleBtn2),this.seleBtn1.anchorOffsetX=this.seleBtn1.width/2,this.seleBtn1.anchorOffsetY=this.seleBtn1.height/2,this.seleBtn2.anchorOffsetX=this.seleBtn2.width/2,this.seleBtn2.anchorOffsetY=this.seleBtn2.height/2,this.seleBtn1.x=125,this.seleBtn1.y=600,this.seleBtn2.x=360,this.seleBtn2.y=600;var t=Factory.createBitmapByName("moneyIcoSmall");this.addChild(t),t.x=10,t.y=725,this.textScore=new egret.TextField,this.addChild(this.textScore),this.textScore.text=""+this.scoreNum,this.textScore.size=45,this.textScore.textColor=0,this.textScore.x=90,this.textScore.y=746,this.buyBtn2.scaleX=1,this.seleBtn1.scaleX=1,this.seleBtn2.scaleX=1,e.buied?(this.seleBtn1.visible=!0,this.seleBtn2.visible=!0,this.seleBtn1.touchEnabled=!0,this.seleBtn2.touchEnabled=!0,this.buyBtn2.visible=!1,this.buyBtn2.touchEnabled=!1):(this.seleBtn1.visible=!0,this.seleBtn2.visible=!1,this.seleBtn1.touchEnabled=!0,this.seleBtn2.touchEnabled=!1,this.buyBtn2.touchEnabled=!0),this.playBtn.touchEnabled=!0},s.addEvent=function(){this.buyBtn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn2Hd,this),this.playBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.play2Hd,this),this.seleBtn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.sele1Hd,this),this.seleBtn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.sele2Hd,this)},s.btn2Hd=function(){this.tw=egret.Tween.get(this.buyBtn2,{loop:!1}),this.tw.to({scaleX:.8},200).to({scaleX:1},70),this.scoreNum>=10?(this.buysucc.scaleX=1,this.buyBtn2.visible=!1,e.buied=!0,this.seleBtn2.visible=!0,this.seleBtn2.touchEnabled=!0,this.textScore.text=""+(this.scoreNum-10),this.buysucc.visible=!0,this.tw=egret.Tween.get(this.buysucc,{loop:!1}),this.tw.wait(700).to({scaleX:0},300)):(this.buyfild.scaleX=1,this.buyfild.visible=!0,this.tw=egret.Tween.get(this.buyfild,{loop:!1}),this.tw.wait(700).to({scaleX:0},300))},s.sele1Hd=function(){this.tw=egret.Tween.get(this.seleBtn1,{loop:!1}),this.tw.to({scaleX:.8},200).to({scaleX:1},70),this.changesus.scaleX=1,this.changesus.visible=!0,this.tw1=egret.Tween.get(this.changesus,{loop:!1}),this.tw1.wait(700).to({scaleX:0},300),e.charaType="black"},s.sele2Hd=function(){this.tw=egret.Tween.get(this.seleBtn2,{loop:!1}),this.tw.to({scaleX:.8},200).to({scaleX:1},70),this.changesus.scaleX=1,this.changesus.visible=!0,this.tw1=egret.Tween.get(this.changesus,{loop:!1}),this.tw1.wait(700).to({scaleX:0},300),e.charaType="blue"},s.play2Hd=function(){this.dispatchEvent(new egret.Event("goSceneOne")),this.seleBtn1.touchEnabled=!1,this.seleBtn2.touchEnabled=!1,this.buyBtn2.touchEnabled=!1,this.playBtn.touchEnabled=!1,this.seleBtn1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.sele1Hd,this),this.seleBtn2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.sele2Hd,this),this.buyBtn2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.btn2Hd,this),this.playBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.play2Hd,this),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)},e.charaType="black",e}(egret.Sprite);egret.registerClass(ShopScene,"ShopScene");var StartScene=function(t){function e(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.onAddToStage=function(){this.addObject(),this.addEvent()},s.addObject=function(){this.playBtn=Factory.createBitmapByName("play"),this.startBg=Factory.createBitmapByName("startBg"),this.shopBtn=Factory.createBitmapByName("shop"),this.itdBtn=Factory.createBitmapByName("introduce"),this.rank=Factory.createBitmapByName("rank"),this.playBtn.anchorOffsetX=this.playBtn.width/2,this.playBtn.anchorOffsetY=this.playBtn.height/2,this.shopBtn.anchorOffsetX=this.shopBtn.width/2,this.shopBtn.anchorOffsetY=this.shopBtn.height/2,this.itdBtn.anchorOffsetX=this.itdBtn.width/2,this.itdBtn.anchorOffsetY=this.itdBtn.height/2,this.rank.anchorOffsetX=this.rank.width/2,this.rank.anchorOffsetY=this.rank.height/2,this.playBtn.x=240,this.playBtn.y=400,this.shopBtn.x=240,this.shopBtn.y=480,this.itdBtn.x=240,this.itdBtn.y=560,this.rank.x=240,this.rank.y=640,this.addChild(this.startBg),this.addChild(this.shopBtn),this.addChild(this.rank),this.addChild(this.playBtn),this.addChild(this.itdBtn),this.itd=Factory.createBitmapByName("introduce_itd"),this.addChild(this.itd),this.itd.x=this.stage.stageWidth/2-this.itd.width/2,this.itd.y=this.stage.stageHeight/2-this.itd.height/2,this.itd.visible=!1,this.itd.touchEnabled=!0,this.itd.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showItdHd,this),this.sound=RES.getRes("bgm"),this.soundChannel=this.sound.play(),this.soundChannel.volume=.75},s.addEvent=function(){this.playBtn.touchEnabled=!0,this.shopBtn.touchEnabled=!0,this.itdBtn.touchEnabled=!0,this.rank.touchEnabled=!0,this.playBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.playHd,this),this.shopBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.shopHd,this),this.rank.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rankHd,this),this.itdBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.itdHd,this)
},s.playHd=function(){this.dispatchEvent(new egret.Event("goSceneOne")),this.GameOver()},s.shopHd=function(){this.dispatchEvent(new egret.Event("goSceneShop")),this.GameOver()},s.rankHd=function(){this.dispatchEvent(new egret.Event("goSceneRank")),this.GameOver()},s.itdHd=function(){this.itd.visible=!0},s.showItdHd=function(){this.itd.visible=!1},s.GameOver=function(){this.soundChannel.stop(),this.itd.touchEnabled=!1,this.itd.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showItdHd,this),this.playBtn.touchEnabled=!1,this.shopBtn.touchEnabled=!1,this.itdBtn.touchEnabled=!1,this.playBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.playHd,this),this.shopBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.shopHd,this),this.itdBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.itdHd,this),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)},e}(egret.Sprite);egret.registerClass(StartScene,"StartScene");var ThemeAdapter=function(){function t(){}var e=(__define,t),i=e.prototype;return i.getTheme=function(t,e,i,s){function h(t){e.call(s,t)}function n(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,n,null),i.call(s))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,n,null),RES.getResByUrl(t,h,this,RES.ResourceItem.TYPE_TEXT)},t}();egret.registerClass(ThemeAdapter,"ThemeAdapter",["eui.IThemeAdapter"]);